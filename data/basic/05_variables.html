<ion-view view-title="05 - Variables">
<ion-content style="margin:0 12px">
<div class="col-md-7 middle-col">
<h1>Variables, Constants and Literals</h1>
<hr>
<p>Variables are the memory locations which hold any data to be used by any program.</p>
<p>There are five types of variables supported by Ruby. You already have gone through a small description of these variables in previous chapter as well. These five types of variables are explained in this chapter.</p>
<h2>Ruby Global Variables:</h2>
<p>Global variables begin with $. Uninitialized global variables have the value <i>nil</i> and produce warnings with the -w option.</p>
<p>Assignment to global variables alters global status. It is not recommended to use global variables. They make programs cryptic.</p>
<p>Here is an example showing usage of global variable.</p>
<pre class="prettyprint notranslate tryit prettyprinted" style="cursor: default;"><span class="com">#!/usr/bin/ruby</span><span class="pln">

$global_variable </span><span class="pun">=</span><span class="pln"> </span><span class="lit">10</span><span class="pln">
</span><span class="kwd">class</span><span class="pln"> </span><span class="typ">Class1</span><span class="pln">
  </span><span class="kwd">def</span><span class="pln"> print_global
     puts </span><span class="str">"Global variable in Class1 is #$global_variable"</span><span class="pln">
  </span><span class="kwd">end</span><span class="pln">
</span><span class="kwd">end</span><span class="pln">
</span><span class="kwd">class</span><span class="pln"> </span><span class="typ">Class2</span><span class="pln">
  </span><span class="kwd">def</span><span class="pln"> print_global
     puts </span><span class="str">"Global variable in Class2 is #$global_variable"</span><span class="pln">
  </span><span class="kwd">end</span><span class="pln">
</span><span class="kwd">end</span><span class="pln">

class1obj </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Class1</span><span class="pun">.</span><span class="kwd">new</span><span class="pln">
class1obj</span><span class="pun">.</span><span class="pln">print_global
class2obj </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Class2</span><span class="pun">.</span><span class="kwd">new</span><span class="pln">
class2obj</span><span class="pun">.</span><span class="pln">print_global</span></pre>
<p>Here $global_variable is a global variable. This will produce the following result:</p>
<p><b>NOTE:</b> In Ruby you CAN access value of any variable or constant by putting a hash (#) character just before that variable or constant.</p>
<pre class="prettyprint notranslate prettyprinted"><span class="typ">Global</span><span class="pln"> variable </span><span class="kwd">in</span><span class="pln"> </span><span class="typ">Class1</span><span class="pln"> </span><span class="kwd">is</span><span class="pln"> </span><span class="lit">10</span><span class="pln">
</span><span class="typ">Global</span><span class="pln"> variable </span><span class="kwd">in</span><span class="pln"> </span><span class="typ">Class2</span><span class="pln"> </span><span class="kwd">is</span><span class="pln"> </span><span class="lit">10</span></pre>
<h2>Ruby Instance Variables:</h2>
<p>Instance variables begin with @. Uninitialized instance variables have the value <i>nil</i> and produce warnings with the -w option.</p>
<p>Here is an example showing usage of Instance Variables.</p>
<pre class="prettyprint notranslate tryit prettyprinted" style="cursor: default;"><span class="com">#!/usr/bin/ruby</span><span class="pln">

</span><span class="kwd">class</span><span class="pln"> </span><span class="typ">Customer</span><span class="pln">
   </span><span class="kwd">def</span><span class="pln"> initialize</span><span class="pun">(</span><span class="pln">id</span><span class="pun">,</span><span class="pln"> name</span><span class="pun">,</span><span class="pln"> addr</span><span class="pun">)</span><span class="pln">
      </span><span class="lit">@cust_id</span><span class="pun">=</span><span class="pln">id
      </span><span class="lit">@cust_name</span><span class="pun">=</span><span class="pln">name
      </span><span class="lit">@cust_addr</span><span class="pun">=</span><span class="pln">addr
   </span><span class="kwd">end</span><span class="pln">
   </span><span class="kwd">def</span><span class="pln"> display_details</span><span class="pun">()</span><span class="pln">
      puts </span><span class="str">"Customer id #@cust_id"</span><span class="pln">
      puts </span><span class="str">"Customer name #@cust_name"</span><span class="pln">
      puts </span><span class="str">"Customer address #@cust_addr"</span><span class="pln">
    </span><span class="kwd">end</span><span class="pln">
</span><span class="kwd">end</span><span class="pln">

</span><span class="com"># Create Objects</span><span class="pln">
cust1</span><span class="pun">=</span><span class="typ">Customer</span><span class="pun">.</span><span class="kwd">new</span><span class="pun">(</span><span class="str">"1"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"John"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"Wisdom Apartments, Ludhiya"</span><span class="pun">)</span><span class="pln">
cust2</span><span class="pun">=</span><span class="typ">Customer</span><span class="pun">.</span><span class="kwd">new</span><span class="pun">(</span><span class="str">"2"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"Poul"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"New Empire road, Khandala"</span><span class="pun">)</span><span class="pln">

</span><span class="com"># Call Methods</span><span class="pln">
cust1</span><span class="pun">.</span><span class="pln">display_details</span><span class="pun">()</span><span class="pln">
cust2</span><span class="pun">.</span><span class="pln">display_details</span><span class="pun">()</span></pre>
<p>Here, @cust_id, @cust_name and @cust_addr are instance variables. This will produce the following result:</p>
<pre class="prettyprint notranslate prettyprinted"><span class="typ">Customer</span><span class="pln"> id </span><span class="lit">1</span><span class="pln">
</span><span class="typ">Customer</span><span class="pln"> name </span><span class="typ">John</span><span class="pln">
</span><span class="typ">Customer</span><span class="pln"> address </span><span class="typ">Wisdom</span><span class="pln"> </span><span class="typ">Apartments</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Ludhiya</span><span class="pln">
</span><span class="typ">Customer</span><span class="pln"> id </span><span class="lit">2</span><span class="pln">
</span><span class="typ">Customer</span><span class="pln"> name </span><span class="typ">Poul</span><span class="pln">
</span><span class="typ">Customer</span><span class="pln"> address </span><span class="typ">New</span><span class="pln"> </span><span class="typ">Empire</span><span class="pln"> road</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Khandala</span></pre>
<h2>Ruby Class Variables:</h2>
<p>Class variables begin with @@ and must be initialized before they can be used in method definitions. </p>
<p>Referencing an uninitialized class variable produces an error. Class variables are shared among descendants of the class or module in which the class variables are defined.</p>
<p>Overriding class variables produce warnings with the -w option.</p>
<p>Here is an example showing usage of class variable:</p>
<pre class="prettyprint notranslate tryit prettyprinted" style="cursor: default;"><span class="com">#!/usr/bin/ruby</span><span class="pln">

</span><span class="kwd">class</span><span class="pln"> </span><span class="typ">Customer</span><span class="pln">
   </span><span class="pun">@</span><span class="lit">@no_of_customers</span><span class="pun">=</span><span class="lit">0</span><span class="pln">
   </span><span class="kwd">def</span><span class="pln"> initialize</span><span class="pun">(</span><span class="pln">id</span><span class="pun">,</span><span class="pln"> name</span><span class="pun">,</span><span class="pln"> addr</span><span class="pun">)</span><span class="pln">
      </span><span class="lit">@cust_id</span><span class="pun">=</span><span class="pln">id
      </span><span class="lit">@cust_name</span><span class="pun">=</span><span class="pln">name
      </span><span class="lit">@cust_addr</span><span class="pun">=</span><span class="pln">addr
   </span><span class="kwd">end</span><span class="pln">
   </span><span class="kwd">def</span><span class="pln"> display_details</span><span class="pun">()</span><span class="pln">
      puts </span><span class="str">"Customer id #@cust_id"</span><span class="pln">
      puts </span><span class="str">"Customer name #@cust_name"</span><span class="pln">
      puts </span><span class="str">"Customer address #@cust_addr"</span><span class="pln">
    </span><span class="kwd">end</span><span class="pln">
    </span><span class="kwd">def</span><span class="pln"> total_no_of_customers</span><span class="pun">()</span><span class="pln">
       </span><span class="pun">@</span><span class="lit">@no_of_customers</span><span class="pln"> </span><span class="pun">+=</span><span class="pln"> </span><span class="lit">1</span><span class="pln">
       puts </span><span class="str">"Total number of customers: #@@no_of_customers"</span><span class="pln">
    </span><span class="kwd">end</span><span class="pln">
</span><span class="kwd">end</span><span class="pln">

</span><span class="com"># Create Objects</span><span class="pln">
cust1</span><span class="pun">=</span><span class="typ">Customer</span><span class="pun">.</span><span class="kwd">new</span><span class="pun">(</span><span class="str">"1"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"John"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"Wisdom Apartments, Ludhiya"</span><span class="pun">)</span><span class="pln">
cust2</span><span class="pun">=</span><span class="typ">Customer</span><span class="pun">.</span><span class="kwd">new</span><span class="pun">(</span><span class="str">"2"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"Poul"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"New Empire road, Khandala"</span><span class="pun">)</span><span class="pln">

</span><span class="com"># Call Methods</span><span class="pln">
cust1</span><span class="pun">.</span><span class="pln">total_no_of_customers</span><span class="pun">()</span><span class="pln">
cust2</span><span class="pun">.</span><span class="pln">total_no_of_customers</span><span class="pun">()</span></pre>
<p>Here @@no_of_customers is a class variable. This will produce the following result:</p>
<pre class="prettyprint notranslate prettyprinted"><span class="typ">Total</span><span class="pln"> number of customers</span><span class="pun">:</span><span class="pln"> </span><span class="lit">1</span><span class="pln">
</span><span class="typ">Total</span><span class="pln"> number of customers</span><span class="pun">:</span><span class="pln"> </span><span class="lit">2</span></pre>
<h2>Ruby Local Variables:</h2>
<p>Local variables begin with a lowercase letter or _. The scope of a local variable ranges from class, module, def, or do to the corresponding end or from a block's opening brace to its close brace {}.</p>
<p>When an uninitialized local variable is referenced, it is interpreted as a call to a method that has no arguments.</p>
<p>Assignment to uninitialized local variables also serves as variable declaration. The variables start to exist until the end of the current scope is reached. The lifetime of local variables is determined when Ruby parses the program.</p>
<p>In the above example local variables are id, name and addr.</p>
<h2>Ruby Constants:</h2>
<p>Constants begin with an uppercase letter. Constants defined within a class or module can be accessed from within that class or module, and those defined outside a class or module can be accessed globally.</p>
<p>Constants may not be defined within methods. Referencing an uninitialized constant produces an error. Making an assignment to a constant that is already initialized produces a warning.</p>
<pre class="prettyprint notranslate tryit prettyprinted" style="cursor: default;"><span class="com">#!/usr/bin/ruby</span><span class="pln">

</span><span class="kwd">class</span><span class="pln"> </span><span class="typ">Example</span><span class="pln">
   VAR1 </span><span class="pun">=</span><span class="pln"> </span><span class="lit">100</span><span class="pln">
   VAR2 </span><span class="pun">=</span><span class="pln"> </span><span class="lit">200</span><span class="pln">
   </span><span class="kwd">def</span><span class="pln"> show
       puts </span><span class="str">"Value of first Constant is #{VAR1}"</span><span class="pln">
       puts </span><span class="str">"Value of second Constant is #{VAR2}"</span><span class="pln">
   </span><span class="kwd">end</span><span class="pln">
</span><span class="kwd">end</span><span class="pln">

</span><span class="com"># Create Objects</span><span class="pln">
</span><span class="kwd">object</span><span class="pun">=</span><span class="typ">Example</span><span class="pun">.</span><span class="kwd">new</span><span class="pun">()</span><span class="pln">
</span><span class="kwd">object</span><span class="pun">.</span><span class="pln">show</span></pre>
<p>Here VAR1 and VAR2 are constant. This will produce the following result:</p>
<pre class="prettyprint notranslate prettyprinted"><span class="typ">Value</span><span class="pln"> of first </span><span class="typ">Constant</span><span class="pln"> </span><span class="kwd">is</span><span class="pln"> </span><span class="lit">100</span><span class="pln">
</span><span class="typ">Value</span><span class="pln"> of second </span><span class="typ">Constant</span><span class="pln"> </span><span class="kwd">is</span><span class="pln"> </span><span class="lit">200</span></pre>
<h2>Ruby Pseudo-Variables:</h2>
<p>They are special variables that have the appearance of local variables but behave like constants. You can not assign any value to these variables.</p>
<ion-list>
<li><p><b>self:</b> The receiver object of the current method.</p></li>
<li><p><b>true:</b> Value representing true.</p></li>
<li><p><b>false:</b> Value representing false.</p></li>
<li><p><b>nil:</b> Value representing undefined.</p></li>
<li><p><b>__FILE__:</b> The name of the current source file.</p></li>
<li><p><b>__LINE__:</b> The current line number in the source file.</p></li>
</ion-list>
<h2>Ruby Basic Literals:</h2>
<p>The rules Ruby uses for literals are simple and intuitive. This section explains all basic Ruby Literals.</p>
<h2>Integer Numbers:</h2>
<p>Ruby supports integer numbers. An integer number can range from -2<sup>30</sup> to 2<sup>30-1</sup> or -2<sup>62</sup> to 2<sup>62-1</sup>. Integers with-in this range are objects of class <i>Fixnum</i> and integers outside this range are stored in objects of class <i>Bignum</i>.</p>
<p>You write integers using an optional leading sign, an optional base indicator (0 for octal, 0x for hex, or 0b for binary), followed by a string of digits in the appropriate base. Underscore characters are ignored in the digit string.</p>
<p>You can also get the integer value corresponding to an ASCII character or escape sequence by preceding it with a question mark.</p>
<p><b>Example:</b></p>
<pre class="prettyprint notranslate prettyprinted"><span class="lit">123</span><span class="pln">                  </span><span class="com"># Fixnum decimal</span><span class="pln">
</span><span class="lit">1_234</span><span class="pln">                </span><span class="com"># Fixnum decimal with underline</span><span class="pln">
</span><span class="pun">-</span><span class="lit">500</span><span class="pln">                 </span><span class="com"># Negative Fixnum</span><span class="pln">
</span><span class="lit">0377</span><span class="pln">                 </span><span class="com"># octal</span><span class="pln">
</span><span class="lit">0xff</span><span class="pln">                 </span><span class="com"># hexadecimal</span><span class="pln">
</span><span class="lit">0b1011</span><span class="pln">               </span><span class="com"># binary</span><span class="pln">
</span><span class="pun">?</span><span class="pln">a                   </span><span class="com"># character code for 'a'</span><span class="pln">
</span><span class="pun">?</span><span class="pln">\n                  </span><span class="com"># code for a newline (0x0a)</span><span class="pln">
</span><span class="lit">12345678901234567890</span><span class="pln"> </span><span class="com"># Bignum</span></pre>
<p><b>NOTE:</b> Class and Objects are explained in a separate chapter of this tutorial.</p>
<h2>Floating Numbers:</h2>
<p>Ruby supports integer numbers. They are also numbers but with decimals. Floating-point numbers are objects of class <i>Float</i> and can be any of the following:</p>
<p><b>Example:</b></p>
<pre class="prettyprint notranslate prettyprinted"><span class="lit">123.4</span><span class="pln">                </span><span class="com"># floating point value</span><span class="pln">
</span><span class="lit">1.0e6</span><span class="pln">                </span><span class="com"># scientific notation</span><span class="pln">
</span><span class="lit">4E20</span><span class="pln">                 </span><span class="com"># dot not required</span><span class="pln">
</span><span class="lit">4e+20</span><span class="pln">                </span><span class="com"># sign before exponential</span></pre>
<h2>String Literals:</h2>
<p>Ruby strings are simply sequences of 8-bit bytes and they are objects of class String. Double-quoted strings allow substitution and backslash notation but single-quoted strings don't allow substitution and allow backslash notation only for \\ and \'</p>
<p><b>Example:</b></p>
<pre class="prettyprint notranslate tryit prettyprinted" style="cursor: default;"><span class="com">#!/usr/bin/ruby -w</span><span class="pln">

puts </span><span class="str">'escape using "\\"'</span><span class="pun">;</span><span class="pln">
puts </span><span class="str">'That\'s right'</span><span class="pun">;</span></pre>
<p>This will produce the following result:</p>
<pre class="prettyprint notranslate prettyprinted"><span class="pln">escape </span><span class="kwd">using</span><span class="pln"> </span><span class="str">"\"
That's right</span></pre>
<p>You can substitute the value of any Ruby expression into a string using the sequence <b>#{ expr }</b>. Here, expr could be any ruby expression.</p>
<pre class="prettyprint notranslate tryit prettyprinted"><span class="com">#!/usr/bin/ruby -w</span><span class="pln">

puts </span><span class="str">"Multiplication Value : #{24*60*60}"</span><span class="pun">;</span></pre>
<p>This will produce the following result:</p>
<pre class="prettyprint notranslate prettyprinted"><span class="typ">Multiplication</span><span class="pln"> </span><span class="typ">Value</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> </span><span class="lit">86400</span></pre>
<h2>Backslash Notations:</h2>
<p>Following is the list of Backslash notations supported by Ruby:</p>
<table class="table table-bordered">
<tbody><tr><th>Notation</th><th>Character represented</th></tr>
<tr><td>\n</td><td>Newline (0x0a)</td></tr>
<tr><td>\r</td><td>Carriage return (0x0d)</td></tr>
<tr><td>\f</td><td>Formfeed (0x0c)</td></tr>
<tr><td>\b</td><td>Backspace (0x08)</td></tr>
<tr><td>\a</td><td>Bell (0x07)</td></tr>
<tr><td>\e</td><td>Escape (0x1b)</td></tr>
<tr><td>\s</td><td>Space (0x20)</td></tr>
<tr><td>\nnn</td><td>Octal notation (n being 0-7)</td></tr>
<tr><td>\xnn</td><td>Hexadecimal notation (n being 0-9, a-f, or A-F)</td></tr>
<tr><td>\cx, \C-x</td><td>Control-x</td></tr>
<tr><td>\M-x</td><td>Meta-x (c | 0x80)</td></tr>
<tr><td>\M-\C-x</td><td>Meta-Control-x</td></tr>
<tr><td>\x</td><td>Character x</td></tr>
</tbody></table>
<p>For more detail on Ruby Strings, go through <a href="#/app/basic/13_strings.html">13 - Strings</a>.</p>
<h2>Ruby Arrays:</h2>
<p>Literals of Ruby Array are created by placing a comma-separated series of object references between square brackets. A trailing comma is ignored.</p>
<h2>Example:</h2>
<pre class="prettyprint notranslate tryit prettyprinted" style="cursor: default;"><span class="com">#!/usr/bin/ruby</span><span class="pln">

ary </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="pln">  </span><span class="str">"fred"</span><span class="pun">,</span><span class="pln"> </span><span class="lit">10</span><span class="pun">,</span><span class="pln"> </span><span class="lit">3.14</span><span class="pun">,</span><span class="pln"> </span><span class="str">"This is a string"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"last element"</span><span class="pun">,</span><span class="pln"> </span><span class="pun">]</span><span class="pln">
ary</span><span class="pun">.</span><span class="pln">each </span><span class="kwd">do</span><span class="pln"> </span><span class="pun">|</span><span class="pln">i</span><span class="pun">|</span><span class="pln">
   puts i
</span><span class="kwd">end</span></pre>
<p>This will produce the following result:</p>
<pre class="prettyprint notranslate prettyprinted"><span class="pln">fred
</span><span class="lit">10</span><span class="pln">
</span><span class="lit">3.14</span><span class="pln">
</span><span class="typ">This</span><span class="pln"> </span><span class="kwd">is</span><span class="pln"> a </span><span class="kwd">string</span><span class="pln">
</span><span class="kwd">last</span><span class="pln"> element</span></pre>
<p>For more detail on Ruby Arrays, go through <a href="#/app/basic/14_arrays.html">14 - Arrays</a>.</p>
<h2>Ruby Hashes:</h2>
<p>A literal Ruby Hash is created by placing a list of key/value pairs between braces, with either a comma or the sequence =&gt; between the key and the value. A trailing comma is ignored.</p>
<h2>Example:</h2>
<pre class="prettyprint notranslate tryit prettyprinted"><span class="com">#!/usr/bin/ruby</span><span class="pln">

hsh </span><span class="pun">=</span><span class="pln"> colors </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="str">"red"</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="lit">0xf00</span><span class="pun">,</span><span class="pln"> </span><span class="str">"green"</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="lit">0x0f0</span><span class="pun">,</span><span class="pln"> </span><span class="str">"blue"</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="lit">0x00f</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
hsh</span><span class="pun">.</span><span class="pln">each </span><span class="kwd">do</span><span class="pln"> </span><span class="pun">|</span><span class="pln">key</span><span class="pun">,</span><span class="pln"> value</span><span class="pun">|</span><span class="pln">
   </span><span class="kwd">print</span><span class="pln"> key</span><span class="pun">,</span><span class="pln"> </span><span class="str">" is "</span><span class="pun">,</span><span class="pln"> value</span><span class="pun">,</span><span class="pln"> </span><span class="str">"\n"</span><span class="pln">
</span><span class="kwd">end</span></pre>
<p>This will produce the following result:</p>
<pre class="prettyprint notranslate prettyprinted"><span class="pln">green </span><span class="kwd">is</span><span class="pln"> </span><span class="lit">240</span><span class="pln">
red </span><span class="kwd">is</span><span class="pln"> </span><span class="lit">3840</span><span class="pln">
blue </span><span class="kwd">is</span><span class="pln"> </span><span class="lit">15</span></pre>
<p>For more detail on Ruby Hashes, go through <a href="#/app/basic/15_hashes.html">15 - Hashes</a>.</p>
<h2>Ruby Ranges:</h2>
<p>A Range represents an interval.a set of values with a start and an end. Ranges may be constructed using the s..e and s...e literals, or with Range.new.</p>
<p>Ranges constructed using .. run from the start to the end inclusively. Those created using ... exclude the end value. When used as an iterator, ranges return each value in the sequence.</p>
<p>A range (1..5) means it includes 1, 2, 3, 4, 5 values and a range (1...5) means it includes 1, 2, 3, 4 values.</p>
<h2>Example:</h2>
<pre class="prettyprint notranslate tryit prettyprinted" style="cursor: default;"><span class="com">#!/usr/bin/ruby</span><span class="pln">

</span><span class="pun">(</span><span class="lit">10.</span><span class="pun">.</span><span class="lit">15</span><span class="pun">).</span><span class="pln">each </span><span class="kwd">do</span><span class="pln"> </span><span class="pun">|</span><span class="pln">n</span><span class="pun">|</span><span class="pln"> 
   </span><span class="kwd">print</span><span class="pln"> n</span><span class="pun">,</span><span class="pln"> </span><span class="str">' '</span><span class="pln"> 
</span><span class="kwd">end</span></pre>
<p>This will produce the following result:</p>
<pre class="prettyprint notranslate prettyprinted"><span class="lit">10</span><span class="pln"> </span><span class="lit">11</span><span class="pln"> </span><span class="lit">12</span><span class="pln"> </span><span class="lit">13</span><span class="pln"> </span><span class="lit">14</span><span class="pln"> </span><span class="lit">15</span></pre>
<p>For more detail on Ruby Ranges, go through <a href="#/app/basic/17_ranges.html">17 - Ranges</a>.</p>
</div>
</ion-content>
</ion-view>